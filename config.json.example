{
  "version": "3.2.1",
  "metadata": {
    "created": "2025-10-16",
    "description": "Dir-Monitor-Go configuration example",
    "author": "Dir-Monitor-Go Team"
  },
  "log_file": "/var/log/dir-monitor-go/app.log",
  "log_level": "info",
  "monitors": [
    {
      "id": "web-assets-watch",
      "name": "Web Assets Monitor",
      "description": "Monitor web assets directory for changes and rebuild frontend",
      "directory": "/var/www/assets",
      "command": "cd /var/www && npm run build",
      "file_patterns": [
        "*.js",
        "*.css",
        "*.scss",
        "*.html"
      ],
      "timeout": 30,
      "enabled": true,
      "debounce_seconds": 2,
      "schedule": ""
    },
    {
      "id": "config-reload",
      "name": "Configuration Monitor",
      "description": "Monitor configuration files and reload services",
      "directory": "/etc/myapp",
      "command": "systemctl reload myapp",
      "file_patterns": [
        "*.conf",
        "*.yaml",
        "*.yml",
        "*.json"
      ],
      "timeout": 10,
      "enabled": true,
      "debounce_seconds": 5,
      "schedule": ""
    },
    {
      "id": "log-rotation",
      "name": "Log Rotation Monitor",
      "description": "Monitor log directory and trigger rotation when needed",
      "directory": "/var/log/myapp",
      "command": "/usr/local/sbin/rotate-logs.sh",
      "file_patterns": [
        "*.log"
      ],
      "timeout": 60,
      "enabled": true,
      "debounce_seconds": 10,
      "schedule": "0 2 * * *"
    },
    {
      "id": "backup-trigger",
      "name": "Backup Trigger",
      "description": "Monitor data directory and trigger backup on changes",
      "directory": "/data/myapp",
      "command": "/usr/local/bin/backup-data.sh",
      "file_patterns": [
        "*.db",
        "*.sqlite",
        "*.data"
      ],
      "timeout": 300,
      "enabled": true,
      "debounce_seconds": 30,
      "schedule": "0 3 * * 0"
    }
  ],
  "settings": {
    "log_level": "info",
    "log_file": "/var/log/dir-monitor-go/app.log",
    "log_max_size": 10485760,
    "log_max_backups": 5,
    "log_show_caller": false,
    "max_concurrent_operations": 5,
    "operation_timeout_seconds": 300,
    "file_watcher_buffer_size": 1000,
    "event_channel_buffer_size": 100,
    "min_stability_time_ms": 500,
    "execution_dedup_interval_seconds": 5,
    "directory_stability_quiet_ms": 2000,
    "directory_stability_timeout_seconds": 30,
    "retry_attempts": 3,
    "retry_delay_seconds": 5,
    "health_check_interval_seconds": 60
  }
}